{% extends 'layouts/base.njk' %}
{% set pageType = 'Homepage' %}

{# Intro content #}
{% set introHeading = title %}
{% set introSummary %}
  {{ content | safe }}
{% endset %}

{# Post list content #}
{% set postListHeading = postsHeading %}
{% set postListItems = collections.postFeed %}

{# Archive link #}
{% if postListItems.length < collections.posts.length %}
  {% set paginationNextText = archiveButtonText %}
  {% set paginationNextUrl = '/archive' %}
{% endif %}

{% block content %}
  <main id="main-content" tabindex="-1">
    <section class="featured">
      <div class="inner-wrapper">
        {% set featuredPost = postListItems[0].data %}
        {% set tags = featuredPost.tags %}

        <ul class="tags">
          {% for tag in tags %}
            <li class="tags__tag">
              <a href="">{{ tag }}</a>
            </li>
          {% endfor %}
        </ul>
        <time class="featured__date" datetime="{{ featuredPost.date }}">{{ featuredPost.date }}</time>
        <h1 class="featured__title">
          <span>{{ featuredPost.title }}</span>
        </h1>
        <div class="featured__content">
          {{ featuredPost.content | truncate(300) | safe }}
        </div>
      </div>
    </section>

    {% include "partials/components/post-list.njk" %}
    {% include "partials/components/pagination.njk" %}
  </main>
{% endblock %}
